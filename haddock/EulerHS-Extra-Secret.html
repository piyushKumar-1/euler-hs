<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>EulerHS.Extra.Secret</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">euler-hs-2.9.4.0: The Flow framework for Euler.</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">EulerHS.Extra.Secret</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Introduction</a></li><li><a href="#g:2">Core part</a></li><li><a href="#g:3">Construction and extraction</a></li><li><a href="#g:4">sequence-like transformations</a></li><li><a href="#g:5">Servant stuff</a></li><li><a href="#g:6">Re-exports</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Protecting sensitive data from being accidentally leaked by
 packing them into a <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> newtype wrapper.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:SecretContext">SecretContext</a><ul class="subs"><li>= <a href="#v:RiskyShowSecrets">RiskyShowSecrets</a></li><li>| <a href="#v:SafelyHideSecrets">SafelyHideSecrets</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Secret">Secret</a> (a :: <a href="EulerHS-Prelude.html#t:Type" title="EulerHS.Prelude">Type</a>)</li><li class="src short"><a href="#v:makeSecret">makeSecret</a> :: a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:ExtractSecrets">ExtractSecrets</a> = ExtractSecrets' ()</li><li class="src short"><a href="#v:extractSecret">extractSecret</a> :: <a href="EulerHS-Extra-Secret.html#t:ExtractSecrets" title="EulerHS.Extra.Secret">ExtractSecrets</a> =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; a</li><li class="src short"><a href="#v:elimExtractSecrets">elimExtractSecrets</a> :: <span class="keyword">forall</span> a. (<a href="EulerHS-Extra-Secret.html#t:ExtractSecrets" title="EulerHS.Extra.Secret">ExtractSecrets</a> =&gt; a) -&gt; a</li><li class="src short"><a href="#v:toBuilder">toBuilder</a> :: <a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a> =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; (a -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/binary-0.8.7.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>) -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/binary-0.8.7.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></li><li class="src short"><a href="#v:unsafeExtractSecret">unsafeExtractSecret</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; a</li><li class="src short"><a href="#v:sequenceSecretMaybe">sequenceSecretMaybe</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> a) -&gt; <a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</li><li class="src short"><a href="#v:sequenceMaybeSecret">sequenceMaybeSecret</a> :: <a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> a)</li><li class="src short"><a href="#v:sequenceSecretEither">sequenceSecretEither</a> :: (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a>, <a href="EulerHS-Prelude.html#t:IsString" title="EulerHS.Prelude">IsString</a> e) =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e a) -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</li><li class="src short"><a href="#v:sequenceEitherSecret">sequenceEitherSecret</a> :: <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ProtectedJSON">ProtectedJSON</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:DiscloseSecret">DiscloseSecret</a> a = <a href="#v:DiscloseSecret">DiscloseSecret</a> a</li><li class="src short"><span class="keyword">class</span> <a href="#t:Given">Given</a> a</li><li class="src short"><a href="#v:give">give</a> :: a -&gt; (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> a =&gt; r) -&gt; r</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Introduction</h1></a><div class="doc"><p>This module introduces <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> newtype wrapper. The idea is to put <strong>all sensitive</strong>
 fields in a <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> wrapper, so instead just <code>Text / Int / etc</code> fields we are going
 to work with <code>Secret Text</code> and so on.</p><pre>data X = X {name :: Secret String, b :: Y}
  deriving stock (Generic)
  deriving anyclass (FromJSON)

  deriving instance Given SecretContext =&gt; ToJSON X
  deriving instance Given SecretContext =&gt; Show X
  deriving instance Given SecretContext =&gt; Store X

data Y = Y {c :: Int, money :: Secret Int}
  deriving stock (Generic)
  deriving anyclass (FromJSON, FromForm)

  deriving instance Given SecretContext =&gt; ToJSON Y
  deriving instance Given SecretContext =&gt; Show Y
  deriving instance Given SecretContext =&gt; Store Y
</pre><p>The <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> wrapper works as follows:</p><ul><li>you can put a value into a Secret using <code><a href="EulerHS-Extra-Secret.html#v:makeSecret" title="EulerHS.Extra.Secret">makeSecret</a></code> function</li><li>in order to extract a value you have to provide 'Given SecretContext` instance</li></ul><p>Let's start with creating:</p><pre>exampleX :: X
exampleX = X { name = makeSecret &quot;a&quot;, b = exampleY }

exampleY :: Y
exampleY = Y {c = 10, money = makeSecret 20}</pre><p>Potentially dangerous instances including <code><a href="EulerHS-Prelude.html#t:Show" title="EulerHS.Prelude">Show</a></code>, <code><a href="EulerHS-Prelude.html#t:ToJSON" title="EulerHS.Prelude">ToJSON</a></code> and <code><a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Store" title="Data.Store.Internal">Store</a></code> also
 require 'Given SecretContext'. In order not to pass the context explicitly
 this module leverages <a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html">Data.Reflection</a> machinery to pass around the context.
 You don't need to understand how <code>reify</code><em><code>reflect</code> and <code><a href="EulerHS-Extra-Secret.html#v:give" title="EulerHS.Extra.Secret">give</a></code></em><code><a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html#v:given" title="Data.Reflection">given</a></code> is
 implemented but you have to understand this:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>given (42 :: Int) $ given @Int
</code></strong>42
</pre><p>Let's take a look at more examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>print $ give SafelyHideSecrets (A.encode exampleX)
</code></strong>&quot;{\&quot;name\&quot;:\&quot;***secret***\&quot;,\&quot;b\&quot;:{\&quot;money\&quot;:\&quot;***secret***\&quot;,\&quot;c\&quot;:10}}&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>print $ give RiskyShowSecrets (A.encode exampleX)
</code></strong>&quot;{\&quot;name\&quot;:\&quot;a\&quot;,\&quot;b\&quot;:{\&quot;money\&quot;:20,\&quot;c\&quot;:10}}&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>print $ give SafelyHideSecrets (show exampleX :: String)
</code></strong>&quot;X {name = ***secret***, b = Y {c = 10, money = ***secret***}}&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>print $ give RiskyShowSecrets (show exampleX :: String)
</code></strong>&quot;X {name = \&quot;a\&quot;, b = Y {c = 10, money = 20}}&quot;
</pre><p>TODO: Is it needed?
 <code><a href="EulerHS-Prelude.html#t:FromJSON" title="EulerHS.Prelude">FromJSON</a></code>, <code><a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-FormUrlEncoded.html#t:FromForm" title="Web.Internal.FormUrlEncoded">FromForm</a></code>, <code><a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-HttpApiData.html#t:FromHttpApiData" title="Web.Internal.HttpApiData">FromHttpApiData</a></code> and <code><a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Store" title="Data.Store.Internal">Store</a></code>s parsing fails if
 encounters <em>secreted data</em>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let secretJson = A.decode @X $ give SafelyHideSecrets $ A.encode exampleX
</code></strong>&quot;*** Exception: FromJSON (Secret a): trying to decode secret data
</pre><p>For changing <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> data just use <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> as a monad without extraction:</p><pre>f :: Secret Int -&gt; Secret String
f secret = do
 x &lt;- secret
 pure $ show $ x + 1</pre></div><a href="#g:2" id="g:2"><h1>Core part</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SecretContext" class="def">SecretContext</a> <a href="#t:SecretContext" class="selflink">#</a></p><div class="doc"><p>Secret context to annotate risky/safely usage of <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> type</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RiskyShowSecrets" class="def">RiskyShowSecrets</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SafelyHideSecrets" class="def">SafelyHideSecrets</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Secret" class="def">Secret</a> (a :: <a href="EulerHS-Prelude.html#t:Type" title="EulerHS.Prelude">Type</a>) <a href="#t:Secret" class="selflink">#</a></p><div class="doc"><p><code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> data type is used to hide any sensitive data stored in fields
 in API and domain types.</p><p>We refused use the <code><a href="EulerHS-Prelude.html#t:Traversable" title="EulerHS.Prelude">Traversable</a></code> instance intentionally since it opens
 backdoors like <code>'traverse print (Secret password)'</code>. The same is the case
 with <code><a href="EulerHS-Prelude.html#t:Foldable" title="EulerHS.Prelude">Foldable</a></code> leading to extraction data, e.g.:</p><pre>sneaky :: Show a =&gt; Secret a -&gt; String
sneaky = foldMap show</pre></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Secret">Instances</h4><details id="i:Secret" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Monad:1"></span> <a href="EulerHS-Prelude.html#t:Monad" title="EulerHS.Prelude">Monad</a> <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; (a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Functor:2"></span> <a href="EulerHS-Prelude.html#t:Functor" title="EulerHS.Prelude">Functor</a> <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Applicative:3"></span> <a href="EulerHS-Prelude.html#t:Applicative" title="EulerHS.Prelude">Applicative</a> <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (a -&gt; b) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> b -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Arbitrary1:4"></span> <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary1" title="Test.QuickCheck.Arbitrary">Arbitrary1</a> <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Arbitrary1:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftArbitrary">liftArbitrary</a> :: <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:liftArbitrary" class="selflink">#</a></p><p class="src"><a href="#v:liftShrink">liftShrink</a> :: (a -&gt; [a]) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] <a href="#v:liftShrink" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Eq:5"></span> <a href="EulerHS-Prelude.html#t:Eq" title="EulerHS.Prelude">Eq</a> a =&gt; <a href="EulerHS-Prelude.html#t:Eq" title="EulerHS.Prelude">Eq</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Eq:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Ord:6"></span> <a href="EulerHS-Prelude.html#t:Ord" title="EulerHS.Prelude">Ord</a> a =&gt; <a href="EulerHS-Prelude.html#t:Ord" title="EulerHS.Prelude">Ord</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Ord:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Ordering" title="EulerHS.Prelude">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:Bool" title="EulerHS.Prelude">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Show:7"></span> (<a href="EulerHS-Prelude.html#t:Show" title="EulerHS.Prelude">Show</a> a, <a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a>) =&gt; <a href="EulerHS-Prelude.html#t:Show" title="EulerHS.Prelude">Show</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>Turns secreted values into <strong>&quot;***secret***&quot;</strong> when in <code><a href="EulerHS-Extra-Secret.html#v:SafelyHideSecrets" title="EulerHS.Extra.Secret">SafelyHideSecrets</a></code> context.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:Show:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="EulerHS-Prelude.html#t:Int" title="EulerHS.Prelude">Int</a> -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="EulerHS-Prelude.html#t:String" title="EulerHS.Prelude">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Arbitrary:8"></span> <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a =&gt; <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Secret:Arbitrary:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: <a href="file:///nix/store/78yf5b5wv8hzyxscy75a25h3yklk52ii-QuickCheck-2.14.2-doc/share/doc/QuickCheck-2.14.2/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:arbitrary" class="selflink">#</a></p><p class="src"><a href="#v:shrink">shrink</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] <a href="#v:shrink" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:ToJSON:9"></span> (<a href="EulerHS-Prelude.html#t:ToJSON" title="EulerHS.Prelude">ToJSON</a> a, <a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a>) =&gt; <a href="EulerHS-Prelude.html#t:ToJSON" title="EulerHS.Prelude">ToJSON</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>Turns secreted values into <strong>&quot;***secret***&quot;</strong> when in <code><a href="EulerHS-Extra-Secret.html#v:SafelyHideSecrets" title="EulerHS.Extra.Secret">SafelyHideSecrets</a></code> context.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:ToJSON:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> <a href="#v:toJSON" class="selflink">#</a></p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="#v:toEncoding" class="selflink">#</a></p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> <a href="#v:toJSONList" class="selflink">#</a></p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="#v:toEncodingList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:FromJSON:10"></span> <a href="EulerHS-Prelude.html#t:FromJSON" title="EulerHS.Prelude">FromJSON</a> a =&gt; <a href="EulerHS-Prelude.html#t:FromJSON" title="EulerHS.Prelude">FromJSON</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>Fails when encountering &quot;***secret***&quot; strings.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:FromJSON:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseJSON">parseJSON</a> :: <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:parseJSON" class="selflink">#</a></p><p class="src"><a href="#v:parseJSONList">parseJSONList</a> :: <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="file:///nix/store/cxi7l09d1368vfrp44spgnmnanlic00n-aeson-1.5.6.0-doc/share/doc/aeson-1.5.6.0/html/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> [<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a] <a href="#v:parseJSONList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:FromForm:11"></span> <a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-FormUrlEncoded.html#t:FromForm" title="Web.Internal.FormUrlEncoded">FromForm</a> a =&gt; <a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-FormUrlEncoded.html#t:FromForm" title="Web.Internal.FormUrlEncoded">FromForm</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>Fails when encountering &quot;***secret***&quot; strings.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:FromForm:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromForm">fromForm</a> :: <a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-FormUrlEncoded.html#t:Form" title="Web.Internal.FormUrlEncoded">Form</a> -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:fromForm" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:FromHttpApiData:12"></span> <a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-HttpApiData.html#t:FromHttpApiData" title="Web.Internal.HttpApiData">FromHttpApiData</a> a =&gt; <a href="file:///nix/store/gdsqynbcrj8nwsmkixzs0sxx8bwi4ms9-http-api-data-0.4.2-doc/share/doc/http-api-data-0.4.2/html/Web-Internal-HttpApiData.html#t:FromHttpApiData" title="Web.Internal.HttpApiData">FromHttpApiData</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>Fails when encountering &quot;***secret***&quot; strings.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:FromHttpApiData:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseUrlPiece">parseUrlPiece</a> :: <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:parseUrlPiece" class="selflink">#</a></p><p class="src"><a href="#v:parseHeader">parseHeader</a> :: <a href="EulerHS-Prelude.html#t:ByteString" title="EulerHS.Prelude">ByteString</a> -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:parseHeader" class="selflink">#</a></p><p class="src"><a href="#v:parseQueryParam">parseQueryParam</a> :: <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> <a href="EulerHS-Prelude.html#t:Text" title="EulerHS.Prelude">Text</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:parseQueryParam" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Secret:Store:13"></span> (<a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Store" title="Data.Store.Internal">Store</a> a, <a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a>) =&gt; <a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Store" title="Data.Store.Internal">Store</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a)</span> <a href="#t:Secret" class="selflink">#</a></td><td class="doc"><p>SecretContext here used just to annotate unwrapping of Secret values with Store operations.</p></td></tr><tr><td colspan="2"><details id="i:id:Secret:Store:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:size">size</a> :: <a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Size" title="Data.Store.Internal">Size</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:size" class="selflink">#</a></p><p class="src"><a href="#v:poke">poke</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; <a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Poke" title="Data.Store.Internal">Poke</a> () <a href="#v:poke" class="selflink">#</a></p><p class="src"><a href="#v:peek">peek</a> :: <a href="file:///nix/store/d7r77cqs85q4ri3vdm06dqdkd7jalw4f-store-0.7.10-doc/share/doc/store-0.7.10/html/Data-Store-Internal.html#t:Peek" title="Data.Store.Internal">Peek</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:peek" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Construction and extraction</h1></a><div class="top"><p class="src"><a id="v:makeSecret" class="def">makeSecret</a> :: a -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a <a href="#v:makeSecret" class="selflink">#</a></p><div class="doc"><p>Just makes a secret.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ExtractSecrets" class="def">ExtractSecrets</a> = ExtractSecrets' () <a href="#t:ExtractSecrets" class="selflink">#</a></p><div class="doc"><p>A constraint to track functions which requires access to sensitive data.</p></div></div><div class="top"><p class="src"><a id="v:extractSecret" class="def">extractSecret</a> :: <a href="EulerHS-Extra-Secret.html#t:ExtractSecrets" title="EulerHS.Extra.Secret">ExtractSecrets</a> =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; a <a href="#v:extractSecret" class="selflink">#</a></p><div class="doc"><p>A function to extract a value in <code><a href="EulerHS-Extra-Secret.html#t:ExtractSecrets" title="EulerHS.Extra.Secret">ExtractSecrets</a></code> context.</p></div></div><div class="top"><p class="src"><a id="v:elimExtractSecrets" class="def">elimExtractSecrets</a> :: <span class="keyword">forall</span> a. (<a href="EulerHS-Extra-Secret.html#t:ExtractSecrets" title="EulerHS.Extra.Secret">ExtractSecrets</a> =&gt; a) -&gt; a <a href="#v:elimExtractSecrets" class="selflink">#</a></p><div class="doc"><p>Eliminates <code>ExtractSecrets</code> constraint.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>elimExtractSecrets $ extractSecret  $ Secret (&quot;foo&quot; :: String)
</code></strong>&quot;foo&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:toBuilder" class="def">toBuilder</a> :: <a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a> =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; (a -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/binary-0.8.7.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>) -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/binary-0.8.7.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> <a href="#v:toBuilder" class="selflink">#</a></p><div class="doc"><p>TODO do we need it? If yes, why not to have extract :: Given SecretContext =&gt; Secret a -&gt; Maybe a?</p></div></div><div class="top"><p class="src"><a id="v:unsafeExtractSecret" class="def">unsafeExtractSecret</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a -&gt; a <a href="#v:unsafeExtractSecret" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: use <code><a href="EulerHS-Extra-Secret.html#v:extractSecret" title="EulerHS.Extra.Secret">extractSecret</a></code> instead; for backward compatibility only</p></div><p>The last resort to extract sensitive data. Avoid to use it as as long as possible!
 <strong>It is NOT for show or logs!</strong></p><p>Please, annotate all uses of <code>unsafeExtractSecre</code> with a comment that says on why this
 was done.</p></div></div><a href="#g:4" id="g:4"><h1>sequence-like transformations</h1></a><div class="top"><p class="src"><a id="v:sequenceSecretMaybe" class="def">sequenceSecretMaybe</a> :: <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> a) -&gt; <a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:sequenceSecretMaybe" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sequenceMaybeSecret" class="def">sequenceMaybeSecret</a> :: <a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Maybe" title="EulerHS.Prelude">Maybe</a> a) <a href="#v:sequenceMaybeSecret" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sequenceSecretEither" class="def">sequenceSecretEither</a> :: (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a>, <a href="EulerHS-Prelude.html#t:IsString" title="EulerHS.Prelude">IsString</a> e) =&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e a) -&gt; <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) <a href="#v:sequenceSecretEither" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sequenceEitherSecret" class="def">sequenceEitherSecret</a> :: <a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e (<a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> a) -&gt; <a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a> (<a href="EulerHS-Prelude.html#t:Either" title="EulerHS.Prelude">Either</a> e a) <a href="#v:sequenceEitherSecret" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Servant stuff</h1></a><div class="doc"><p>The <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> is designed to be used with <em>servant</em>, one can use it in request
 and response types. Nothing is needed to protect <strong>requests</strong> since packing
 into <code><a href="EulerHS-Extra-Secret.html#t:Secret" title="EulerHS.Extra.Secret">Secret</a></code> is a straightforward operation. For <strong>responses</strong> just use
 <code><a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a></code> instead of stock <code>JSON</code> in your API-type and use <em>via deriving</em>
 for <code>ToJSON</code> instance using <code><a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a></code> newtype:</p><pre>type Api =
  &quot;path&quot;
  :&gt; ReqBody '[JSON] Req        -- no changes here
  :&gt; Post '[ProtectedJSON] Foo  -- uses ProtectedJSON

data Foo = Foo { bar :: Secret Text }

deriving stock instance Eq InitTxnResp,
deriving stock instance Generic InitTxnResp
deriving anyclass instance Given SecretContext =&gt; ToJSON Foo
deriving via (DiscloseSecret Foo) instance MimeRender ProtectedJSON Foo</pre></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProtectedJSON" class="def">ProtectedJSON</a> <a href="#t:ProtectedJSON" class="selflink">#</a></p><div class="doc"><p>A promoted type constructor to use instead of the regular <code>JSON</code> kind</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ProtectedJSON">Instances</h4><details id="i:ProtectedJSON" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProtectedJSON:Accept:1"></span> Accept <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a></span> <a href="#t:ProtectedJSON" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProtectedJSON:Accept:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:contentType">contentType</a> :: <a href="EulerHS-Prelude.html#t:Proxy" title="EulerHS.Prelude">Proxy</a> <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> -&gt; <a href="file:///nix/store/9bm67mmpb8w7wp33g4f9fixmzqbjyidx-http-media-0.8.0.0-doc/share/doc/http-media-0.8.0.0/html/Network-HTTP-Media-MediaType.html#t:MediaType" title="Network.HTTP.Media.MediaType">MediaType</a></p><p class="src"><a href="#v:contentTypes">contentTypes</a> :: <a href="EulerHS-Prelude.html#t:Proxy" title="EulerHS.Prelude">Proxy</a> <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> -&gt; <a href="EulerHS-Prelude.html#t:NonEmpty" title="EulerHS.Prelude">NonEmpty</a> <a href="file:///nix/store/9bm67mmpb8w7wp33g4f9fixmzqbjyidx-http-media-0.8.0.0-doc/share/doc/http-media-0.8.0.0/html/Network-HTTP-Media-MediaType.html#t:MediaType" title="Network.HTTP.Media.MediaType">MediaType</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProtectedJSON:MimeRender:2"></span> (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a> =&gt; <a href="EulerHS-Prelude.html#t:ToJSON" title="EulerHS.Prelude">ToJSON</a> a) =&gt; MimeRender <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> (<a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a> a)</span> <a href="#t:ProtectedJSON" class="selflink">#</a></td><td class="doc"><p>This instance uses <strong>QuantifiedConstraints</strong> extension to express the fact that
 <code>a</code> is a <code>ToJSON</code> only when a <code>Given SecretConstext</code> is given. As such a context
 <code><a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a></code> <code><a href="EulerHS-Extra-Secret.html#v:give" title="EulerHS.Extra.Secret">give</a></code>s <code><a href="EulerHS-Extra-Secret.html#v:RiskyShowSecrets" title="EulerHS.Extra.Secret">RiskyShowSecrets</a></code>.</p></td></tr><tr><td colspan="2"><details id="i:id:ProtectedJSON:MimeRender:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mimeRender">mimeRender</a> :: <a href="EulerHS-Prelude.html#t:Proxy" title="EulerHS.Prelude">Proxy</a> <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> -&gt; <a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a> a -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/bytestring-0.10.10.1/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:DiscloseSecret" class="def">DiscloseSecret</a> a <a href="#t:DiscloseSecret" class="selflink">#</a></p><div class="doc"><p>A newtype wrapper to use in <em>via deriving</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DiscloseSecret" class="def">DiscloseSecret</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DiscloseSecret">Instances</h4><details id="i:DiscloseSecret" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiscloseSecret:MimeRender:1"></span> (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> <a href="EulerHS-Extra-Secret.html#t:SecretContext" title="EulerHS.Extra.Secret">SecretContext</a> =&gt; <a href="EulerHS-Prelude.html#t:ToJSON" title="EulerHS.Prelude">ToJSON</a> a) =&gt; MimeRender <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> (<a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a> a)</span> <a href="#t:DiscloseSecret" class="selflink">#</a></td><td class="doc"><p>This instance uses <strong>QuantifiedConstraints</strong> extension to express the fact that
 <code>a</code> is a <code>ToJSON</code> only when a <code>Given SecretConstext</code> is given. As such a context
 <code><a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a></code> <code><a href="EulerHS-Extra-Secret.html#v:give" title="EulerHS.Extra.Secret">give</a></code>s <code><a href="EulerHS-Extra-Secret.html#v:RiskyShowSecrets" title="EulerHS.Extra.Secret">RiskyShowSecrets</a></code>.</p></td></tr><tr><td colspan="2"><details id="i:id:DiscloseSecret:MimeRender:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="EulerHS-Extra-Secret.html">EulerHS.Extra.Secret</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mimeRender">mimeRender</a> :: <a href="EulerHS-Prelude.html#t:Proxy" title="EulerHS.Prelude">Proxy</a> <a href="EulerHS-Extra-Secret.html#t:ProtectedJSON" title="EulerHS.Extra.Secret">ProtectedJSON</a> -&gt; <a href="EulerHS-Extra-Secret.html#t:DiscloseSecret" title="EulerHS.Extra.Secret">DiscloseSecret</a> a -&gt; <a href="file:///nix/store/9ap4yciq91vzflq5cyvh6fii5vpzjva5-ghc-8.8.4-doc/share/doc/ghc/html/libraries/bytestring-0.10.10.1/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></p></div></details></td></tr></table></details></div></div><a href="#g:6" id="g:6"><h1>Re-exports</h1></a><div class="doc"><p>Some of <a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html">Data.Reflection</a> are get re-exported.</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Given" class="def">Given</a> a <a href="#t:Given" class="selflink">#</a></p><div class="doc"><p>This is a version of <code><a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html#t:Reifies" title="Data.Reflection">Reifies</a></code> that allows for only a single value.</p><p>This is easier to work with than <code><a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html#t:Reifies" title="Data.Reflection">Reifies</a></code> and permits extended defaulting,
 but it only offers a single reflected value of a given type at a time.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html#v:given" title="Data.Reflection">given</a></p></div></div><div class="top"><p class="src"><a id="v:give" class="def">give</a> :: a -&gt; (<a href="EulerHS-Extra-Secret.html#t:Given" title="EulerHS.Extra.Secret">Given</a> a =&gt; r) -&gt; r <a href="#v:give" class="selflink">#</a></p><div class="doc"><p>Reify a value into an instance to be recovered with <code><a href="file:///nix/store/wjx6lqrf76mq79nybbwv6c55z8zps954-reflection-2.1.6-doc/share/doc/reflection-2.1.6/html/Data-Reflection.html#v:given" title="Data.Reflection">given</a></code>.</p><p>You should <em>only</em> <code><a href="EulerHS-Extra-Secret.html#v:give" title="EulerHS.Extra.Secret">give</a></code> a single value for each type. If multiple instances
 are in scope, then the behavior is implementation defined.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>